<!DOCTYPE html>
<!-- Translators: Replace the lang attribute value with the target language code according to ISO 639. See https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes -->
<html lang="ru">
<head>
<meta charset="utf-8">
<title>nvMathViewer</title>
<style>
BODY {
	background: #FFFFFF;
	color: #000000;
	font-family: Verdana, "Times New Roman", Arial;
	font-size: 12pt;
	line-height: 1.5;
}
H1, H2, H3, .copyright {
	text-align: center;
	font-weight: bold;
}
H1 {
	font-size: 18pt;
}
H2 {
	font-size: 16pt;
}
H3, .copyright {
	font-size: 14pt;
}
P {
	text-align: justify;
	padding: 6pt 5%;
	text-indent: 0.5in;
}
TABLE {
	border-collapse: collapse;
}
TD, TH {
	padding: 3px;
	border: 1px solid #000000;
}
TH {
	font-weight: bold;
	text-align: center;
}
</style>
</head>
<body>
<h1>nvMathViewer 1.1.1</h1>
<p class="copyright">Copyright © Никита Цейковец <a href="mailto:tseikovets@rambler.ru?subject=nvMathViewer:%20">&lt;tseikovets@rambler.ru&gt;</a></p>
<p>(Возможно более новая версия <a href="ReadMe_in_English.html">доступна на английском</a>.)</p>
<h2>О расширении</h2>
<p>nvMathViewer - это расширение для JAWS, с помощью которого можно просматривать математический контент в нотациях LaTeX и AsciiMath как MathML.</p>
<p>Эти нотации широко используются для записи математических символов и формул в компьютерных системах. Однако понимание LaTeX и AsciiMath требует специальных знаний и навыков, которых может не быть у обычного пользователя, такого как простой школьник или студент гуманитарной специальности. Кроме того, чтение этих нотаций напрямую может быть недостаточно удобным, потому что не предоставляет дополнительных возможностей для анализа структуры формул.</p>
<p>nvMathViewer решает эти проблемы и даёт возможность незрячим пользователям быстро просмотреть любую нотацию LaTeX или AsciiMath, используя специальные функции JAWS для невизуального чтения математического контента и структурной навигации по нему.</p>
<p>Примечание: Самая ранняя версия JAWS, поддерживающая чтение математического контента, — это 16.0, выпущенная в 2014 году.</p>
<h2>Установка</h2>
<p>Сначала распакуйте архив расширения. nvMathViewer может быть установлен вручную или автоматически.</p>
<p>Чтобы установить это расширение вручную, выполните следующие действия:</p>
<ol>
<li>Откройте директорию пользовательских настроек JAWS. Для этого:
<ol type="A">
<li>Откройте меню «Пуск» Windows.</li>
<li>Перейдите к подменю «Все программы» и откройте его.</li>
<li>Перейдите к группе используемой версии JAWS и откройте её.</li>
<li>Перейдите к группе «Файлы JAWS» и откройте её.</li>
<li>Перейдите к пункту «Мои настройки» и нажмите Enter.</li>
</ol>
Откроется Проводник Windows со списком файлов и папок (для текущего пользователя), содержащим пользовательские настройки JAWS.</li>
<li>Скопируйте в директорию пользовательских настроек JAWS содержимое директории «rus» из архива расширения. Она содержит три файла с одинаковым именем «nvMathViewer» и разными расширениями. Это русская версия, но в архиве расширения есть версии и на других языках. Вы можете устанавливать их вместо русской. Если у вас многоязычная версия JAWS, вы можете одновременно установить несколько версий расширения для разных языков.</li>
<li>Перейдите к файлу nvMathViewer.jss в директории пользовательских настроек JAWS и нажмите Enter. Файл должен открыться в Диспетчере скриптов.</li>
<li>В окне Диспетчера скриптов откройте меню нажатием Alt и активируйте «Файл» → «Сохранить» (или просто нажмите Control+S). В ответ вы должны получить сообщение «Компиляция завершена».</li>
<li>В окне Диспетчера скриптов откройте меню нажатием Alt и активируйте «Файл» → «Открыть пользовательский файл». В стандартном диалоговом окне открытия файла выберете и откройте файл myExtensions.jss в директории по умолчанию. Если в этой директории не окажется myExtensions.jss, то вам нужно закрыть это диалоговое окно нажатием Escape и найти этот файл в директории общих файлов. Для этого, в меню Диспетчера скриптов активируйте «Файл» → «Открыть общий файл», после чего выберете и откройте файл myExtensions.jss.</li>
<li>Перейдите в конец файла myExtensions.jss (Control+End) и вставьте или введите следующую строку:<br>
use "nvMathViewer.jsb"</li>
<li>В окне Диспетчера скриптов откройте меню нажатием Alt и активируйте «Файл» → «Сохранить» (или просто нажмите Control+S). В ответ вы должны получить сообщение «Компиляция завершена». После этого Диспетчер скриптов можно закрыть (Alt+F4).</li>
<li>Перейдите на один уровень вверх относительно директории пользовательских настроек JAWS. Для этого в директории пользовательских настроек JAWS нажмите BackSpace. Вы попадёте в директорию языконезависимых пользовательских настроек JAWS. Скопируйте директорию «nvMathViewer» из архива расширения в директорию языконезависимых пользовательских настроек JAWS.</li>
</ol>
<p>Чтобы установить это расширение автоматически, воспользуйтесь скриптом install.vbs из архива. Он поддерживает три аргумента командной строки:</p>
<ul>
<li>Первый — версия JAWS, например, «16.0» или «2020». Обязательный.</li>
<li>Второй — код языка JAWS, например, «rus» для русского или «enu» для английского. Обязательный.</li>
<li>Третий — языковая версия nvMathViewer, то есть название соответствующей папки из архива. Необязательный.</li>
</ul>
<p>Например, чтобы установить русскую версию расширения для русского JAWS 2020, выполните в командной строке:<br>
&gt;cscript install.vbs //nologo 2020 rus<br>
или, чтобы установить английскую версию расширения для русского JAWS 2020, выполните:<br>
&gt;cscript install.vbs //nologo 2020 rus enu</p>
<p>Вы также можете просто запустить этот скрипт и ввести все аргументы при помощи диалоговых окон.</p>
<p>Скрипту понадобится некоторое время для выполнения всех операций. Дождитесь сообщения об окончании процесса установки.</p>
<h2>Первоначальная настройка</h2>
<p>Это расширение добавляет в JAWS несколько дополнительных скриптов. По умолчанию они не назначены, поэтому вам нужно будет добавить для них сочетания клавиш или жесты самостоятельно. Расширение содержит следующие скрипты:</p>
<table>
<tr>
<th>Имя скрипта</th>
<th>Краткое описание</th>
</tr>
<tr>
<td>ViewLaTeXAsInteractiveMathML</td>
<td>Просмотреть выделенную нотацию LaTeX как интерактивный MathML в вашем браузере.</td>
</tr>
<tr>
<td>ViewAsciiMathAsInteractiveMathML</td>
<td>Просмотреть выделенную нотацию AsciiMath как интерактивный MathML в вашем браузере.</td>
</tr>
<tr>
<td>ViewLaTeXAsSourceMathML</td>
<td>Просмотреть выделенную нотацию LaTeX как исходный код MathML в окне виртуального просмотра.</td>
</tr>
<tr>
<td>ViewAsciiMathAsSourceMathML</td>
<td>Просмотреть выделенную нотацию AsciiMath как исходный код MathML в окне виртуального просмотра.</td>
</tr>
</table>
<p>Чтобы добавить сочетания клавиш для этих скриптов, выполните следующие действия:</p>
<ol>
<li>Откройте директорию пользовательских настроек JAWS (см. раздел «Установка»).</li>
<li>Перейдите к файлу DEFAULT.JKM в директории пользовательских настроек JAWS и откройте его с помощью текстового редактора, например, Блокнота. Для этого воспользуйтесь подменю «Открыть с помощью» в контекстном меню этого файла. Также можно запустить Блокнот и открыть файл DEFAULT.JKM с помощью стандартного диалога открытия файла (Control+O).</li>
<li>В файле DEFAULT.JKM найдите строку «[Common Keys]» и вставьте после неё строки для добавления сочетаний клавиш следующим образом:
<blockquote><pre>
[Common Keys]
%KEYSTROKE%=%SCRIPT%
</pre></blockquote>
где
<ul>
<li>%KEYSTROKE% — сочетание клавиш для одного из скриптов;</li>
<li>%SCRIPT% — имя этого скрипта.</li>
</ul>
Например:
<blockquote><pre>
Insert+Alt+A=ViewAsciiMathAsInteractiveMathML
</pre></blockquote></li>
<li>Закройте файл DEFAULT.JKM  с сохранением изменений.</li>
</ol>
<p>Если файла DEFAULT.JKM нет в директории пользовательских настроек JAWS, то просто скопируйте туда готовый файл DEFAULT.JKM из архива расширения.</p>
<p>После этого вы сможете управлять сочетаниями клавиш или жестами этих скриптов с помощью Диспетчера клавиатуры JAWS (файл клавиатуры «default»). Для получения дополнительной информации об использовании Диспетчера клавиатуры прочтите Справка по JAWS → Настройка JAWS for Windows → Диспетчер клавиатуры.</p>
<h2>Использование</h2>
<ol>
<li>Выделите текст нотации LaTeX или AsciiMath и выполните одно из назначенных сочетаний клавиш или жестов (см. раздел «Первоначальная настройка»).</li>
<li>Откроется окно вашего браузера или виртуального просмотра, в котором вы сможете просмотреть результат преобразования.</li>
</ol>
<p>Если выделенного текста нет, то дополнение попытается взять текст из буфера обмена.</p>
<p>При конвертации LaTeX, знаки «$» на обоих концах текста, знаки «\[» в начале текста и знаки «\]» в конце текста автоматически удаляются.</p>
<p>Для получения дополнительной информации об интерактивной навигации по математическому контенту прочтите Справка по JAWS → Использование Интернета с JAWS → Navigating Web Pages → MathML.</p>
<p>Примечание: К сожалению, на момент выпуска nvMathViewer вышеупомянутый раздел справки по JAWS не был переведён на русский язык. По-русски необходимый минимум для понимания принципов навигации по математическому контенту при помощи JAWS описан в статье «<a href="http://win.tiflocomp.ru/docs/whatsnew16.php" target="_blank">Что нового в JAWS for Windows версии 16.0</a>» (раздел «Поддержка MathML»).</p>
<h2>Примеры</h2>
<p>Если выделить следующую LaTeX нотацию и выполнить скрипт ViewLaTeXAsInteractiveMathML</p>
<blockquote>
<p>x_{1, 2} = \frac{-b \pm \sqrt{b^2 -4ac}}{2a}</p>
</blockquote>
<p>или выделить следующую нотацию AsciiMath и выполнить скрипт ViewAsciiMathAsInteractiveMathML</p>
<blockquote>
<p>x_(1, 2) = (-b +- sqrt(b^2 -4ac))/(2a)</p>
</blockquote>
<p>Тогда это можно будет просмотреть в следующем виде:</p>
<blockquote>
<math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
  <msub>
    <mi>x</mi>
    <mrow>
      <mn>1</mn>
      <mo>,</mo>
      <mn>2</mn>
    </mrow>
  </msub>
  <mo>=</mo>
  <mfrac>
    <mrow>
      <mo>&#x2212;</mo>
      <mi>b</mi>
      <mo>&#xB1;</mo>
      <msqrt>
        <msup>
          <mi>b</mi>
          <mn>2</mn>
        </msup>
        <mo>&#x2212;</mo>
        <mn>4</mn>
        <mi>a</mi>
        <mi>c</mi>
      </msqrt>
    </mrow>
    <mrow>
      <mn>2</mn>
      <mi>a</mi>
    </mrow>
  </mfrac>
</math>
</blockquote>
<h2>История версий</h2>
<ul>
<li>1.1.1 (2020.09.21)
<ul>
<li>Добавлено предотвращение многократного выполнения скрипта, если пользователь выполняет соответствующее сочетание клавиш или жест несколько раз подряд или же длительное время удерживает сочетание клавиш нажатым.</li>
</ul></li>
<li>1.1 (2020.09.19)
<ul>
<li>Добавлена предобработка нотации LaTeX. Теперь знаки «$» на обоих концах текста, знаки «\[» в начале текста и знаки «\]» в конце текста автоматически удаляются.</li>
</ul></li>
<li>1.0.1 (2020.09.14)
<ul>
<li>Пересборка с движком MathJax версии 3.1.2, в которой исправлена ошибка обработки пробелов после команд LaTeX.</li>
</ul></li>
<li>1.0 (2020.09.12)
<ul>
<li>Первый стабильный релиз.</li>
</ul></li>
</ul>
<h2>Лицензии</h2>
<p>nvMathViewer — это свободное и открытое программное обеспечение.</p>
<ul>
<li>Ядро nvMathViewer лицензировано под Apache License 2.0.</li>
<li>nvMathViewer включает в себя среду выполнения Node.js, лицензированную под <a href="nvMathViewer/Node.js/LICENSE" target="_blank">набором свободных лицензий</a>.</li>
<li>nvMathViewer включает в себя движок MathJax, лицензированный под <a href="nvMathViewer/Node.js/node_modules/mathjax-full/LICENSE" target="_blank">Apache License 2.0</a>.</li>
<li>nvMathViewer включает в себя дополнительные скрипты для MathJax, лицензированные под Apache License 2.0.</li>
<li>nvMathViewer включает в себя скрипт автоматической установки, лицензированный под MIT License.</li>
</ul>
<h2>Ссылки</h2>
<ul>
<li><a href="https://github.com/tseykovets/nvMathViewer" target="_blank">Репозиторий с исходным кодом и ссылками на готовые сборки nvMathViewer</a></li>
</ul>
<hr>
<p class="copyright">Этот документ доступен  по <a href="https://creativecommons.org/licenses/by/4.0/deed.ru" target="_blank">лицензии Creative Commons «Attribution» («Атрибуция») 4.0 Всемирная</a>.</p>
</body>
</html>